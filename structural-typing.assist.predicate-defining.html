<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>structural-typing.assist.predicate-defining documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Structural-typing 2.0.3 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>structural-typing</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>assist</span></div></div></li><li class="depth-3 branch"><a href="structural-typing.assist.defaults.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>defaults</span></div></a></li><li class="depth-3 branch"><a href="structural-typing.assist.lifting.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lifting</span></div></a></li><li class="depth-3 branch"><a href="structural-typing.assist.oopsie.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oopsie</span></div></a></li><li class="depth-3 branch current"><a href="structural-typing.assist.predicate-defining.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>predicate-defining</span></div></a></li><li class="depth-3 branch"><a href="structural-typing.assist.special-words.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>special-words</span></div></a></li><li class="depth-3 branch"><a href="structural-typing.assist.testutil.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>testutil</span></div></a></li><li class="depth-3"><a href="structural-typing.assist.type-repo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>type-repo</span></div></a></li><li class="depth-2 branch"><a href="structural-typing.doc.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>doc</span></div></a></li><li class="depth-2 branch"><a href="structural-typing.global-type.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>global-type</span></div></a></li><li class="depth-2 branch"><a href="structural-typing.preds.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>preds</span></div></a></li><li class="depth-2"><a href="structural-typing.type.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>type</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="structural-typing.assist.predicate-defining.html#var-compose-predicate"><div class="inner"><span>compose-predicate</span></div></a></li><li class="depth-1"><a href="structural-typing.assist.predicate-defining.html#var-should-be"><div class="inner"><span>should-be</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">structural-typing.assist.predicate-defining</h2><div class="doc"><div class="markdown"><p>Helpers for defining custom predicates. See <code>structural-typing.preds</code> for examples of use.</p></div></div><div class="public anchor" id="var-compose-predicate"><h3>compose-predicate</h3><div class="usage"><code>(compose-predicate name pred fmt-fn)</code></div><div class="doc"><div class="markdown"><p>A checker can be any function. But it&rsquo;s often more useful to &ldquo;compose&rdquo; a checker predicate from three parts: its name to be printed (such as <code>&quot;(member [1 2 3])&quot;</code>), a function, and an explainer function that converts an <a href="structural-typing.assist.oopsie.html#var-oopsie">oopsie</a> into a string. This function creates a checker function from those three parts.</p><p>Note that <code>expected</code> is formatted as a readable value. So, for example, strings appear in the explanation surrounded by quotes.</p><p>The resulting predicate still returns the same values as the second argument (the &ldquo;underlying&rdquo; predicate), but it has extra metadata.</p></div></div><div class="src-link"><a href="https://github.com/marick/structural-typing/blob/master/src/structural_typing/assist/predicate_defining.clj#L23">view source</a></div></div><div class="public anchor" id="var-should-be"><h3>should-be</h3><div class="usage"><code>(should-be format-string expected)</code></div><div class="doc"><div class="markdown"><p>The typical explanation string is built from a path, expected value, and leaf value, in that order. The path and leaf value can be gotten from an <a href="structural-typing.assist.oopsie.html#var-oopsie">oopsie</a>. This, then, is shorthand that lets you build an explainer function from just a format string and an expected value.</p>
<pre><code>(should-be &quot;%s should be a member of `%s`; it is `%s`&quot; coll)
</code></pre></div></div><div class="src-link"><a href="https://github.com/marick/structural-typing/blob/master/src/structural_typing/assist/predicate_defining.clj#L9">view source</a></div></div></div></body></html>